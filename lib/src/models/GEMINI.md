# Data Models

This document describes the core data models used to represent data and styling within the Gantt chart. These models are designed to be immutable to ensure predictable state management.

## `LegacyGanttTask`

This is the central model representing a single bar or event on the chart.

-   **`id`**: A unique identifier for the task.
-   **`rowId`**: The ID of the `LegacyGanttRow` this task belongs to.
-   **`start` / `end`**: The `DateTime` objects defining the task's duration.
-   **`name`**: The text label displayed on the task bar.
-   **`color`**: An optional `Color` to override the default bar color.
-   **`stackIndex`**: The vertical position of the task within its row when tasks overlap.
-   **`segments`**: An optional list of `LegacyGanttTaskSegment`s. If provided, the task will be rendered as a collection of smaller segments instead of one continuous bar.

### Special Task Types

The `LegacyGanttTask` model uses boolean flags to represent different kinds of visual elements:

-   **`isSummary`**: If `true`, the task is rendered with a distinct pattern to indicate it's a summary or parent task.
-   **`isTimeRangeHighlight`**: If `true`, the task is rendered as a full-height background highlight, often used for weekends or holidays.
-   **`isOverlapIndicator`**: If `true`, the task is rendered as a conflict marker, typically generated by the `LegacyGanttConflictDetector`.

## `LegacyGanttTaskSegment`

Represents a smaller, continuous portion of a `LegacyGanttTask`. This is useful for visualizing tasks that have interruptions or distinct phases.

-   **`start` / `end`**: The duration of the segment.
-   **`color`**: An optional color for this specific segment, which can override the parent task's color.

## `LegacyGanttRow`

Represents a horizontal lane in the Gantt chart where tasks are placed.

-   **`id`**: A unique identifier for the row. This is used by `LegacyGanttTask.rowId` to associate tasks with a row.

## `LegacyGanttTaskDependency`

Defines a relationship between two tasks.

-   **`predecessorTaskId`**: The ID of the task that must come first.
-   **`successorTaskId`**: The ID of the task that depends on the predecessor.
-   **`type`**: A `DependencyType` enum (`finishToStart`, `contained`) that defines the relationship's behavior and visual representation.
-   **`type`**: A `DependencyType` enum (`finishToStart`, `startToStart`, `finishToFinish`, `startToFinish`, `contained`) that defines the relationship's behavior and visual representation.

## `LegacyGanttRow`

Represents a horizontal lane in the Gantt chart where tasks are placed.

-   **`id`**: A unique identifier for the row. This is used by `LegacyGanttTask.rowId` to associate tasks with a row.

## `LegacyGanttTheme`

A comprehensive class for styling the entire Gantt chart. It allows for customization of colors, text styles, and other visual properties.

-   **`backgroundColor`**: The background color of the chart.
-   **`barColorPrimary`**: The default color for task bars.
-   **`gridColor`**: The color of the vertical grid lines.
-   **`conflictBarColor`**: The color used for conflict indicators.
-   **`summaryBarColor`**: The color used for the summary task pattern.
-   **`dependencyLineColor`**: The color of the lines connecting dependent tasks.
-   **`containedDependencyBackgroundColor`**: The background color for a task that is "contained" within a summary task.
-   **`timeRangeHighlightColor`**: The default color for background highlights (e.g., weekends).
-   **`emptySpaceHighlightColor`**: The color of the highlight shown when hovering over empty space to create a new task.
-   **`axisTextStyle`**: The `TextStyle` for the date labels in the header.
-   **`taskTextStyle`**: The `TextStyle` for the name labels on task bars.
-   **`barHeightRatio`**: The ratio of the bar's height to the total row height (e.g., 0.7 for 70%).
-   **`barCornerRadius`**: The corner radius for the task bars.